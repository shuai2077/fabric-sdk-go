(){return r.apply(this,arguments)}}));function kp(e){return{level:mp(e),ls:xp(e),tail:Dp(e)}}var Ep=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r.next=3,e.post("name/publish",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:"".concat(t)},n)),headers:n.headers});case 3:return a=r.sent,r.t0=Xl,r.next=7,a.json();case 7:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Ap=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a,o,u,i,s,c,f;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ch(e.post("name/resolve",{signal:t.signal,searchParams:Ec((0,Fe.Z)({arg:r,stream:!0},t)),headers:t.headers}));case 2:a=n.sent,o=!1,u=!1,n.prev=5,s=Dh(a.ndjson());case 7:return n.next=9,Ch(s.next());case 9:if(!(o=!(c=n.sent).done)){n.next=16;break}return f=c.value,n.next=13,f.Path;case 13:o=!1,n.next=7;break;case 16:n.next=22;break;case 18:n.prev=18,n.t0=n.catch(5),u=!0,i=n.t0;case 22:if(n.prev=22,n.prev=23,!o||null==s.return){n.next=27;break}return n.next=27,Ch(s.return());case 27:if(n.prev=27,!u){n.next=30;break}throw i;case 30:return n.finish(27);case 31:return n.finish(22);case 32:case"end":return n.stop()}}),n,null,[[5,18,22,32],[23,,27,31]])}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Cp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r.next=3,e.post("name/pubsub/cancel",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:t},n)),headers:n.headers});case 3:return a=r.sent,r.t0=Xl,r.next=7,a.json();case 7:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Zp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.next=3,e.post("name/pubsub/state",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.t0=Xl,r.next=7,n.json();case 7:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Fp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r.next=3,e.post("name/pubsub/subs",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,r.abrupt("return",a.Strings||[]);case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}}));function Bp(e){return{cancel:Cp(e),state:Zp(e),subs:Fp(e)}}function Pp(e){return{publish:Ep(e),resolve:Ap(e),pubsub:Bp(e)}}var Sp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r.next=3,e.post("object/data",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:"".concat(t instanceof Uint8Array?$e.decode(t):t)},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.arrayBuffer();case 6:return o=r.sent,r.abrupt("return",new Uint8Array(o,0,o.byteLength));case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Tp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r.next=3,e.post("object/get",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:"".concat(t instanceof Uint8Array?$e.decode(t):t),dataEncoding:"base64"},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,r.abrupt("return",{Data:da(o.Data,"base64pad"),Links:(o.Links||[]).map((function(e){return{Name:e.Name,Hash:$e.parse(e.Hash),Tsize:e.Size}}))});case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Up=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r.next=3,e.post("object/links",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:"".concat(t instanceof Uint8Array?$e.decode(t):t)},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,r.abrupt("return",(o.Links||[]).map((function(e){return{Name:e.Name,Tsize:e.Size,Hash:$e.parse(e.Hash)}})));case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Ip=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r.next=3,e.post("object/new",{signal:t.signal,searchParams:Ec((0,Fe.Z)({arg:t.template},t)),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,o=a.Hash,r.abrupt("return",$e.parse(o));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Np=function(e,r){var t=wc((function(t){var n=Il(e,r);function a(){return a=(0,Q.Z)((0,K.Z)().mark((function e(r){var t,a=arguments;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",n(r,(0,Fe.Z)((0,Fe.Z)({},t),{},{storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})));case 2:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}return function(e){return a.apply(this,arguments)}}));return t(r)},jp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r.next=3,e.post("object/stat",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:"".concat(t)},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,r.abrupt("return",(0,Fe.Z)((0,Fe.Z)({},o),{},{Hash:$e.parse(o.Hash)}));case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Lp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:{},r.next=3,e.post("object/patch/add-link",{signal:a.signal,searchParams:Ec((0,Fe.Z)({arg:["".concat(t),n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null]},a)),headers:a.headers});case 3:return o=r.sent,r.next=6,o.json();case 6:return u=r.sent,i=u.Hash,r.abrupt("return",$e.parse(i));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}})),Op=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s,c,f=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=f.length>2&&void 0!==f[2]?f[2]:{},o=new AbortController,u=il(o.signal,a.signal),r.t0=e,r.t1=Fe.Z,r.t2={signal:u,searchParams:Ec((0,Fe.Z)({arg:"".concat(t)},a))},r.next=8,nl([n],o,a.headers);case 8:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.next=12,r.t0.post.call(r.t0,"object/patch/append-data",r.t4);case 12:return i=r.sent,r.next=15,i.json();case 15:return s=r.sent,c=s.Hash,r.abrupt("return",$e.parse(c));case 18:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}})),zp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:{},r.next=3,e.post("object/patch/rm-link",{signal:a.signal,searchParams:Ec((0,Fe.Z)({arg:["".concat(t),n.Name||n.name||null]},a)),headers:a.headers});case 3:return o=r.sent,r.next=6,o.json();case 6:return u=r.sent,i=u.Hash,r.abrupt("return",$e.parse(i));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}})),Mp=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s,c,f=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=f.length>2&&void 0!==f[2]?f[2]:{},o=new AbortController,u=il(o.signal,a.signal),r.t0=e,r.t1=Fe.Z,r.t2={signal:u,searchParams:Ec((0,Fe.Z)({arg:["".concat(t)]},a))},r.next=8,nl([n],o,a.headers);case 8:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.next=12,r.t0.post.call(r.t0,"object/patch/set-data",r.t4);case 12:return i=r.sent,r.next=15,i.json();case 15:return s=r.sent,c=s.Hash,r.abrupt("return",$e.parse(c));case 18:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}}));function Rp(e){return{addLink:Lp(e),appendData:Op(e),rmLink:zp(e),setData:Mp(e)}}function _p(e,r){return{data:Sp(r),get:Tp(r),links:Up(r),new:Ip(r),put:Np(e,r),stat:jp(r),patch:Rp(r)}}function Hp(e){return Symbol.iterator in e}function Vp(e){return Symbol.asyncIterator in e}function qp(e){return null!=Ju.asCID(e)}function Wp(e){return Jp.apply(this,arguments)}function Jp(){return Jp=Fh((0,K.Z)().mark((function e(r){var t,n,a,o,u,i,s,c,f,h,l,p,d,v,y,b,g,w,m,x,D,k,E,A,C,Z,F,B,P,S,T,U;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==r&&void 0!==r){e.next=2;break}throw Hi()(new Error("Unexpected input: ".concat(r)),"ERR_UNEXPECTED_INPUT");case 2:if(!(t=Ju.asCID(r))){e.next=7;break}return e.next=6,Gp({cid:t});case 6:return e.abrupt("return");case 7:if(!(r instanceof String||"string"===typeof r)){e.next=11;break}return e.next=10,Gp({path:r});case 10:return e.abrupt("return");case 11:if(null==r.cid&&null==r.path){e.next=15;break}return e.next=14,Gp(r);case 14:return e.abrupt("return",e.sent);case 15:if(!Hp(r)){e.next=84;break}if(n=r[Symbol.iterator](),!(a=n.next()).done){e.next=20;break}return e.abrupt("return",n);case 20:if(!qp(a.value)){e.next=41;break}return e.next=23,Gp({cid:a.value});case 23:o=(0,X.Z)(n),e.prev=24,o.s();case 26:if((u=o.n()).done){e.next=32;break}return i=u.value,e.next=30,Gp({cid:i});case 30:e.next=26;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(24),o.e(e.t0);case 37:return e.prev=37,o.f(),e.finish(37);case 40:return e.abrupt("return");case 41:if(!(a.value instanceof String||"string"===typeof a.value)){e.next=62;break}return e.next=44,Gp({path:a.value});case 44:s=(0,X.Z)(n),e.prev=45,s.s();case 47:if((c=s.n()).done){e.next=53;break}return f=c.value,e.next=51,Gp({path:f});case 51:e.next=47;break;case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(45),s.e(e.t1);case 58:return e.prev=58,s.f(),e.finish(58);case 61:return e.abrupt("return");case 62:if(null==a.value.cid&&null==a.value.path){e.next=83;break}return e.next=65,Gp(a.value);case 65:h=(0,X.Z)(n),e.prev=66,h.s();case 68:if((l=h.n()).done){e.next=74;break}return p=l.value,e.next=72,Gp(p);case 72:e.next=68;break;case 74:e.next=79;break;case 76:e.prev=76,e.t2=e.catch(66),h.e(e.t2);case 79:return e.prev=79,h.f(),e.finish(79);case 82:return e.abrupt("return");case 83:throw Hi()(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT");case 84:if(!Vp(r)){e.next=191;break}return d=r[Symbol.asyncIterator](),e.next=88,Ch(d.next());case 88:if(!(v=e.sent).done){e.next=91;break}return e.abrupt("return",d);case 91:if(!qp(v.value)){e.next=124;break}return e.next=94,Gp({cid:v.value});case 94:y=!1,b=!1,e.prev=96,w=Dh(d);case 98:return e.next=100,Ch(w.next());case 100:if(!(y=!(m=e.sent).done)){e.next=107;break}return x=m.value,e.next=104,Gp({cid:x});case 104:y=!1,e.next=98;break;case 107:e.next=113;break;case 109:e.prev=109,e.t3=e.catch(96),b=!0,g=e.t3;case 113:if(e.prev=113,e.prev=114,!y||null==w.return){e.next=118;break}return e.next=118,Ch(w.return());case 118:if(e.prev=118,!b){e.next=121;break}throw g;case 121:return e.finish(118);case 122:return e.finish(113);case 123:return e.abrupt("return");case 124:if(!(v.value instanceof String||"string"===typeof v.value)){e.next=157;break}return e.next=127,Gp({path:v.value});case 127:D=!1,k=!1,e.prev=129,A=Dh(d);case 131:return e.next=133,Ch(A.next());case 133:if(!(D=!(C=e.sent).done)){e.next=140;break}return Z=C.value,e.next=137,Gp({path:Z});case 137:D=!1,e.next=131;break;case 140:e.next=146;break;case 142:e.prev=142,e.t4=e.catch(129),k=!0,E=e.t4;case 146:if(e.prev=146,e.prev=147,!D||null==A.return){e.next=151;break}return e.next=151,Ch(A.return());case 151:if(e.prev=151,!k){e.next=154;break}throw E;case 154:return e.finish(151);case 155:return e.finish(146);case 156:return e.abrupt("return");case 157:if(null==v.value.cid&&null==v.value.path){e.next=190;break}return e.next=160,Gp(v.value);case 160:F=!1,B=!1,e.prev=162,S=Dh(d);case 164:return e.next=166,Ch(S.next());case 166:if(!(F=!(T=e.sent).done)){e.next=173;break}return U=T.value,e.next=170,Gp(U);case 170:F=!1,e.next=164;break;case 173:e.next=179;break;case 175:e.prev=175,e.t5=e.catch(162),B=!0,P=e.t5;case 179:if(e.prev=179,e.prev=180,!F||null==S.return){e.next=184;break}return e.next=184,Ch(S.return());case 184:if(e.prev=184,!B){e.next=187;break}throw P;case 187:return e.finish(184);case 188:return e.finish(179);case 189:return e.abrupt("return");case 190:case 191:throw Hi()(new Error("Unexpected input: "+typeof r),"ERR_UNEXPECTED_INPUT");case 192:case"end":return e.stop()}}),e,null,[[24,34,37,40],[45,55,58,61],[66,76,79,82],[96,109,113,123],[114,,118,122],[129,142,146,156],[147,,151,155],[162,175,179,189],[180,,184,188]])}))),Jp.apply(this,arguments)}function Gp(e){var r=e.cid||"".concat(e.path);if(!r)throw Hi()(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");var t={path:r,recursive:!1!==e.recursive};return null!=e.metadata&&(t.metadata=e.metadata),t}var Kp=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a,o,u,i,s,c,f,h,l,p,d,v,y,b,g,w,m,x,D;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=!1,o=!1,n.prev=2,i=Dh(Wp(r));case 4:return n.next=6,Ch(i.next());case 6:if(!(a=!(s=n.sent).done)){n.next=62;break}return c=s.value,f=c.path,h=c.recursive,l=c.metadata,n.next=10,Ch(e.post("pin/add",{signal:t.signal,searchParams:Ec((0,Fe.Z)((0,Fe.Z)({},t),{},{arg:f,recursive:h,metadata:l?JSON.stringify(l):void 0,stream:!0})),headers:t.headers}));case 10:p=n.sent,d=!1,v=!1,n.prev=13,b=Dh(p.ndjson());case 15:return n.next=17,Ch(b.next());case 17:if(!(d=!(g=n.sent).done)){n.next=43;break}if(!(w=g.value).Pins){n.next=38;break}m=(0,X.Z)(w.Pins),n.prev=21,m.s();case 23:if((x=m.n()).done){n.next=29;break}return D=x.value,n.next=27,$e.parse(D);case 27:n.next=23;break;case 29:n.next=34;break;case 31:n.prev=31,n.t0=n.catch(21),m.e(n.t0);case 34:return n.prev=34,m.f(),n.finish(34);case 37:return n.abrupt("continue",40);case 38:return n.next=40,$e.parse(w);case 40:d=!1,n.next=15;break;case 43:n.next=49;break;case 45:n.prev=45,n.t1=n.catch(13),v=!0,y=n.t1;case 49:if(n.prev=49,n.prev=50,!d||null==b.return){n.next=54;break}return n.next=54,Ch(b.return());case 54:if(n.prev=54,!v){n.next=57;break}throw y;case 57:return n.finish(54);case 58:return n.finish(49);case 59:a=!1,n.next=4;break;case 62:n.next=68;break;case 64:n.prev=64,n.t2=n.catch(2),o=!0,u=n.t2;case 68:if(n.prev=68,n.prev=69,!a||null==i.return){n.next=73;break}return n.next=73,Ch(i.return());case 73:if(n.prev=73,!o){n.next=76;break}throw u;case 76:return n.finish(73);case 77:return n.finish(68);case 78:case"end":return n.stop()}}),n,null,[[2,64,68,78],[13,45,49,59],[21,31,34,37],[50,,54,58],[69,,73,77]])}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}}));function Qp(e){var r=Kp(e);return wc((function(){function e(){return e=(0,Q.Z)((0,K.Z)().mark((function e(t){var n,a=arguments;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",Pl(r([(0,Fe.Z)({path:t},n)],n)));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}return function(r){return e.apply(this,arguments)}}))(e)}function Xp(e,r,t){var n={type:e,cid:$e.parse(r)};return t&&(n.metadata=t),n}var Yp=wc((function(e){function r(){return r=Fh((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)().mark((function t(){var n,a,o,u,i,s,c,f,h,l,p;return(0,K.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r.paths&&(n=Array.isArray(r.paths)?r.paths:[r.paths]),t.next=4,Ch(e.post("pin/ls",{signal:r.signal,searchParams:Ec((0,Fe.Z)((0,Fe.Z)({},r),{},{arg:n.map((function(e){return"".concat(e)})),stream:!0})),headers:r.headers}));case 4:a=t.sent,o=!1,u=!1,t.prev=7,s=Dh(a.ndjson());case 9:return t.next=11,Ch(s.next());case 11:if(!(o=!(c=t.sent).done)){t.next=28;break}if(!(f=c.value).Keys){t.next=23;break}h=0,l=Object.keys(f.Keys);case 15:if(!(h<l.length)){t.next=22;break}return p=l[h],t.next=19,Xp(f.Keys[p].Type,p,f.Keys[p].Metadata);case 19:h++,t.next=15;break;case 22:return t.abrupt("return");case 23:return t.next=25,Xp(f.Type,f.Cid,f.Metadata);case 25:o=!1,t.next=9;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(7),u=!0,i=t.t0;case 34:if(t.prev=34,t.prev=35,!o||null==s.return){t.next=39;break}return t.next=39,Ch(s.return());case 39:if(t.prev=39,!u){t.next=42;break}throw i;case 42:return t.finish(39);case 43:return t.finish(34);case 44:case"end":return t.stop()}}),t,null,[[7,30,34,44],[35,,39,43]])}))()})),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),$p=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a,o,u,i,s,c,f,h,l,p,d,v,y,b,g,w;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=!1,o=!1,n.prev=2,i=Dh(Wp(r));case 4:return n.next=6,Ch(i.next());case 6:if(!(a=!(s=n.sent).done)){n.next=49;break}return c=s.value,f=c.path,h=c.recursive,(l=new URLSearchParams(t.searchParams)).append("arg","".concat(f)),null!=h&&l.set("recursive",String(h)),n.next=13,Ch(e.post("pin/rm",{signal:t.signal,headers:t.headers,searchParams:Ec((0,Fe.Z)((0,Fe.Z)({},t),{},{arg:"".concat(f),recursive:h}))}));case 13:p=n.sent,d=!1,v=!1,n.prev=16,b=Dh(p.ndjson());case 18:return n.next=20,Ch(b.next());case 20:if(!(d=!(g=n.sent).done)){n.next=30;break}if(!(w=g.value).Pins){n.next=25;break}return n.delegateYield(Rh(Dh(w.Pins.map((function(e){return $e.parse(e)}))),Ch),"t0",24);case 24:return n.abrupt("continue",27);case 25:return n.next=27,$e.parse(w);case 27:d=!1,n.next=18;break;case 30:n.next=36;break;case 32:n.prev=32,n.t1=n.catch(16),v=!0,y=n.t1;case 36:if(n.prev=36,n.prev=37,!d||null==b.return){n.next=41;break}return n.next=41,Ch(b.return());case 41:if(n.prev=41,!v){n.next=44;break}throw y;case 44:return n.finish(41);case 45:return n.finish(36);case 46:a=!1,n.next=4;break;case 49:n.next=55;break;case 51:n.prev=51,n.t2=n.catch(2),o=!0,u=n.t2;case 55:if(n.prev=55,n.prev=56,!a||null==i.return){n.next=60;break}return n.next=60,Ch(i.return());case 60:if(n.prev=60,!o){n.next=63;break}throw u;case 63:return n.finish(60);case 64:return n.finish(55);case 65:case"end":return n.stop()}}),n,null,[[2,51,55,65],[16,32,36,46],[37,,41,45],[56,,60,64]])}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),ed=function(e){var r=$p(e);return wc((function(){function e(){return e=(0,Q.Z)((0,K.Z)().mark((function e(t){var n,a=arguments;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",Pl(r([(0,Fe.Z)({path:t},n)],n)));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}return function(r){return e.apply(this,arguments)}}))(e)},rd=function(e){var r=e.Name,t=e.Status,n=e.Cid;return{cid:$e.parse(n),name:r,status:t}},td=function(e){if("string"===typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},nd=function(e){if($e.asCID(e))return e.toString();throw new TypeError("CID instance expected instead of ".concat(typeof e))},ad=function(e){var r=e.service,t=e.cid,n=e.name,a=e.status,o=e.all,u=Ec({service:td(r),name:n,force:!!o||void 0});if(t){var i,s=(0,X.Z)(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;u.append("cid",nd(c))}}catch(p){s.e(p)}finally{s.f()}}if(a){var f,h=(0,X.Z)(a);try{for(h.s();!(f=h.n()).done;){var l=f.value;u.append("status",l)}}catch(p){h.e(p)}finally{h.f()}}return u},od=function(e){var r=e.cid,t=e.service,n=e.background,a=e.name,o=e.origins,u=Ec({arg:nd(r),service:td(t),name:a,background:!!n||void 0});if(o){var i,s=(0,X.Z)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;u.append("origin",c.toString())}}catch(f){s.e(f)}finally{s.f()}}return u},ud=["timeout","signal","headers"];function id(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.timeout,o=n.signal,u=n.headers,i=(0,mc.Z)(n,ud),r.next=3,e.post("pin/remote/add",{timeout:a,signal:o,headers:u,searchParams:od((0,Fe.Z)({cid:t},i))});case 3:return s=r.sent,r.t0=rd,r.next=7,s.json();case 7:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}}var sd=["timeout","signal","headers"];function cd(e){function r(){return(r=Fh((function(r){var t=r.timeout,n=r.signal,a=r.headers,o=(0,mc.Z)(r,sd);return(0,K.Z)().mark((function r(){var u,i,s,c,f,h,l;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ch(e.post("pin/remote/ls",{timeout:t,signal:n,headers:a,searchParams:ad(o)}));case 2:u=r.sent,i=!1,s=!1,r.prev=5,f=Dh(u.ndjson());case 7:return r.next=9,Ch(f.next());case 9:if(!(i=!(h=r.sent).done)){r.next=16;break}return l=h.value,r.next=13,rd(l);case 13:i=!1,r.next=7;break;case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),s=!0,c=r.t0;case 22:if(r.prev=22,r.prev=23,!i||null==f.return){r.next=27;break}return r.next=27,Ch(f.return());case 27:if(r.prev=27,!s){r.next=30;break}throw c;case 30:return r.finish(27);case 31:return r.finish(22);case 32:case"end":return r.stop()}}),r,null,[[5,18,22,32],[23,,27,31]])}))()}))).apply(this,arguments)}return function(e){return r.apply(this,arguments)}}var fd=["timeout","signal","headers"];function hd(e){function r(){return(r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.timeout,a=t.signal,o=t.headers,u=(0,mc.Z)(t,fd),r.next=3,e.post("pin/remote/rm",{timeout:n,signal:a,headers:o,searchParams:ad((0,Fe.Z)((0,Fe.Z)({},u),{},{all:!1}))});case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return function(e){return r.apply(this,arguments)}}var ld=["timeout","signal","headers"];function pd(e){function r(){return(r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.timeout,a=t.signal,o=t.headers,u=(0,mc.Z)(t,ld),r.next=3,e.post("pin/remote/rm",{timeout:n,signal:a,headers:o,searchParams:ad((0,Fe.Z)((0,Fe.Z)({},u),{},{all:!0}))});case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return function(e){return r.apply(this,arguments)}}function dd(e){var r=String(e);if("undefined"===r)throw Error("endpoint is required");return"/"===r[r.length-1]?r.slice(0,-1):r}function vd(e){return(0,Fe.Z)({service:e.Service,endpoint:new URL(e.ApiEndpoint)},e.Stat&&{stat:yd(e.Stat)})}function yd(e){switch(e.Status){case"valid":var r=e.PinCount,t=r.Pinning,n=r.Pinned;return{status:"valid",pinCount:{queued:r.Queued,pinning:t,pinned:n,failed:r.Failed}};case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function bd(e){function r(){return(r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.endpoint,o=n.key,u=n.headers,i=n.timeout,s=n.signal,r.next=3,e.post("pin/remote/service/add",{timeout:i,signal:s,searchParams:Ec({arg:[t,dd(a),o]}),headers:u});case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}}function gd(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o,u,i,s,c,f=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},n=t.stat,a=t.headers,o=t.timeout,u=t.signal,r.next=4,e.post("pin/remote/service/ls",{timeout:o,signal:u,headers:a,searchParams:!0===n?Ec({stat:n}):void 0});case 4:return i=r.sent,r.next=7,i.json();case 7:return s=r.sent,c=s.RemoteServices,r.abrupt("return",c.map(vd));case 10:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}}function wd(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r.next=3,e.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:Ec({arg:t})});case 3:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}}function md(e){var r=new gc(e);return{add:bd(r),ls:gd(r),rm:wd(r)}}function xd(e){var r=new gc(e);return{add:id(r),ls:cd(r),rm:hd(r),rmAll:pd(r),service:md(e)}}function Dd(e){return{addAll:Kp(e),add:Qp(e),ls:Yp(e),rmAll:$p(e),rm:ed(e),remote:xd(e)}}var kd=function(e){return Array.isArray(e)?e.map(Ed):e},Ed=function(e){return ta(Ad(e))},Ad=function(e){return Qr.decode(e)},Cd=function(e){return BigInt("0x".concat(ta(Qr.decode(e),"base16")))},Zd=function(e){return Qr.encode(da(e))},Fd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r.next=3,e.post("pubsub/ls",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return r.next=5,r.sent.json();case 5:return n=r.sent,a=n.Strings,r.abrupt("return",kd(a)||[]);case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Bd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u,i=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r.next=3,e.post("pubsub/peers",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:Zd(t)},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,u=o.Strings,r.abrupt("return",u||[]);case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Pd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t,n){var a,o,u,i,s,c=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:{},o=Ec((0,Fe.Z)({arg:Zd(t)},a)),u=new AbortController,i=il(u.signal,a.signal),r.t0=e,r.t1=Fe.Z,r.t2={signal:i,searchParams:o},r.next=9,nl([n],u,a.headers);case 9:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.next=13,r.t0.post.call(r.t0,"pubsub/pub",r.t4);case 13:return s=r.sent,r.next=16,s.text();case 16:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}})),Sd=wo("js-kubo-rpc-client:pubsub:subscribe");function Td(e,r){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,Q.Z)((0,K.Z)().mark((function e(r,t){var n,a,o,u,i,s,c,f,h,l,p;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.onMessage,a=t.onEnd,o=(o=t.onError)||Sd,e.prev=2,u=!1,i=!1,e.prev=5,c=Dh(r.ndjson());case 7:return e.next=9,c.next();case 9:if(!(u=!(f=e.sent).done)){e.next=24;break}if(h=f.value,e.prev=11,h.from){e.next=14;break}return e.abrupt("continue",21);case 14:null!=h.from&&null!=h.seqno?n({type:"signed",from:bh(h.from),data:Ad(h.data),sequenceNumber:Cd(h.seqno),topic:Ed(h.topicIDs[0]),key:Ad(null!==(l=h.key)&&void 0!==l?l:"u"),signature:Ad(null!==(p=h.signature)&&void 0!==p?p:"u")}):n({type:"unsigned",data:Ad(h.data),topic:Ed(h.topicIDs[0])}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(11),e.t0.message="Failed to parse pubsub message: ".concat(e.t0.message),o(e.t0,!1,h);case 21:u=!1,e.next=7;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(5),i=!0,s=e.t1;case 30:if(e.prev=30,e.prev=31,!u||null==c.return){e.next=35;break}return e.next=35,c.return();case 35:if(e.prev=35,!i){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(30);case 40:e.next=45;break;case 42:e.prev=42,e.t2=e.catch(2),Id(e.t2)||o(e.t2,!0);case 45:return e.prev=45,a(),e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[2,42,45,48],[5,26,30,40],[11,17],[31,,35,39]])})))).apply(this,arguments)}var Id=function(e){switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}},Nd=function(e,r){function t(){return(t=(0,Q.Z)((0,K.Z)().mark((function e(t,n){return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.unsubscribe(t,n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e,r){return t.apply(this,arguments)}},jd=function(){function e(){(0,Y.Z)(this,e),this._subs=new Map}return(0,$.Z)(e,[{key:"subscribe",value:function(e,r,t){var n=this,a=this._subs.get(e)||[];if(a.find((function(e){return e.handler===r})))throw new Error("Already subscribed to ".concat(e," with this handler"));var o=new AbortController;return this._subs.set(e,[{handler:r,controller:o}].concat(a)),t&&t.addEventListener("abort",(function(){return n.unsubscribe(e,r)})),o.signal}},{key:"unsubscribe",value:function(e,r){var t,n=this._subs.get(e)||[];r?(this._subs.set(e,n.filter((function(e){return e.handler!==r}))),t=n.filter((function(e){return e.handler===r}))):(this._subs.set(e,[]),t=n),(this._subs.get(e)||[]).length||this._subs.delete(e),t.forEach((function(e){return e.controller.abort()}))}}]),e}();function Ld(e){var r,t,n=new jd;return{ls:Fd(e),peers:Bd(e),publish:Pd(e),subscribe:(r=e,t=n,wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(n,a){var o,u,i,s,c,f=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(o=f.length>2&&void 0!==f[2]?f[2]:{}).signal=t.subscribe(n,a,o.signal),s=new Promise((function(e,r){u=e,i=r})),c=setTimeout((function(){return u()}),1e3),e.post("pubsub/sub",{signal:o.signal,searchParams:Ec((0,Fe.Z)({arg:Zd(n)},o)),headers:o.headers}).catch((function(e){t.unsubscribe(n,a),i(e)})).then((function(e){clearTimeout(c),e&&(Td(e,{onMessage:function(e){a&&("function"!==typeof a?"function"===typeof a.handleEvent&&a.handleEvent(e):a(e))},onEnd:function(){return t.unsubscribe(n,a)},onError:o.onError}),u())})),r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e,t){return r.apply(this,arguments)}}))(r)),unsubscribe:Nd(0,n)}}var Od=wc((function(e){function r(){return r=Fh((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)().mark((function t(){var n;return(0,K.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ch(e.post("refs/local",{signal:r.signal,transform:Xl,searchParams:Ec(r),headers:r.headers}));case 2:return n=t.sent,t.delegateYield(Rh(Dh(n.ndjson()),Ch),"t0",4);case 4:case"end":return t.stop()}}),t)}))()})),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),zd=wc((function(e,r){var t=function(){var r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a,o;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Array.isArray(r)?r:[r],n.next=3,Ch(e.post("refs",{signal:t.signal,searchParams:Ec((0,Fe.Z)({arg:a.map((function(e){return"".concat(e instanceof Uint8Array?$e.decode(e):e)}))},t)),headers:t.headers,transform:Xl}));case 3:return o=n.sent,n.delegateYield(Rh(Dh(o.ndjson()),Ch),"t0",5);case 5:case"end":return n.stop()}}),n)}))()}));return function(e){return r.apply(this,arguments)}}();return Object.assign(t,{local:Od(r)})})),Md=wc((function(e){function r(){return r=Fh((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)().mark((function t(){var n;return(0,K.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ch(e.post("repo/gc",{signal:r.signal,searchParams:Ec(r),headers:r.headers,transform:function(e){return{err:e.Error?new Error(e.Error):null,cid:(e.Key||{})["/"]?$e.parse(e.Key["/"]):null}}}));case 2:return n=t.sent,t.delegateYield(Rh(Dh(n.ndjson()),Ch),"t0",4);case 4:case"end":return t.stop()}}),t)}))()})),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Rd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r.next=3,e.post("repo/stat",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,r.abrupt("return",{numObjects:BigInt(a.NumObjects),repoSize:BigInt(a.RepoSize),repoPath:a.RepoPath,version:a.Version,storageMax:BigInt(a.StorageMax)});case 8:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),_d=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.next=3,e.post("repo/version",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return r.next=5,r.sent.json();case 5:return n=r.sent,r.abrupt("return",n.Version);case 7:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}}));function Hd(e){return{gc:Md(e),stat:Rd(e),version:_d(e)}}var Vd=wc((function(e){function r(){return r=Fh((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)().mark((function t(){var n;return(0,K.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ch(e.post("stats/bw",{signal:r.signal,searchParams:Ec(r),headers:r.headers,transform:function(e){return{totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)}}}));case 2:return n=t.sent,t.delegateYield(Rh(Dh(n.ndjson()),Ch),"t0",4);case 4:case"end":return t.stop()}}),t)}))()})),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}}));function qd(e){return{bitswap:gh(e),repo:Rd(e),bw:Vd(e)}}var Wd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r.next=3,e.post("swarm/addrs",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,o=a.Addrs,r.abrupt("return",Object.keys(o).map((function(e){return{id:bh(e),addrs:(o[e]||[]).map((function(e){return Xa(e)}))}})));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Jd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u,i=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r.next=3,e.post("swarm/connect",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:t},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,u=o.Strings,r.abrupt("return",u||[]);case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Gd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u,i=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r.next=3,e.post("swarm/disconnect",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:t},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,u=o.Strings,r.abrupt("return",u||[]);case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Kd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r.next=3,e.post("swarm/addrs/local",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,o=a.Strings,r.abrupt("return",(o||[]).map((function(e){return Xa(e)})));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Qd=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r.next=3,e.post("swarm/peers",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,o=a.Peers,r.abrupt("return",(o||[]).map((function(e){return{addr:Xa(e.Addr),peer:bh(e.Peer),muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"}})));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}}));function Xd(e){return{addrs:Wd(e),connect:Jd(e),disconnect:Gd(e),localAddrs:Kd(e),peers:Qd(e)}}var Yd=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a,o,u,i,s,c,f,h,l,p,d,v,y,b,g,w,m,x;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new AbortController,o=il(a.signal,t.signal),n.next=4,Ch(nl(r,a,t.headers));case 4:return u=n.sent,i=u.headers,s=u.body,c=u.total,f=u.parts,h="function"===typeof t.progress?$d(c,f,t.progress):[void 0,void 0],l=(0,ue.Z)(h,2),p=l[0],d=l[1],n.next=12,Ch(e.post("add",{searchParams:Ec((0,Fe.Z)((0,Fe.Z)({"stream-channels":!0},t),{},{progress:Boolean(p)})),onUploadProgress:d,signal:o,headers:i,body:s}));case 12:v=n.sent,y=!1,b=!1,n.prev=15,w=Dh(v.ndjson());case 17:return n.next=19,Ch(w.next());case 19:if(!(y=!(m=n.sent).done)){n.next=31;break}if(void 0===(x=Xl(x=m.value)).hash){n.next=27;break}return n.next=25,rv(x);case 25:n.next=28;break;case 27:p&&p(x.bytes||0,x.name);case 28:y=!1,n.next=17;break;case 31:n.next=37;break;case 33:n.prev=33,n.t0=n.catch(15),b=!0,g=n.t0;case 37:if(n.prev=37,n.prev=38,!y||null==w.return){n.next=42;break}return n.next=42,Ch(w.return());case 42:if(n.prev=42,!b){n.next=45;break}throw g;case 45:return n.finish(42);case 46:return n.finish(37);case 47:case"end":return n.stop()}}),n,null,[[15,33,37,47],[38,,42,46]])}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),$d=function(e,r,t){return r?[void 0,ev(e,r,t)]:[t,void 0]},ev=function(e,r,t){var n=0,a=r.length;return function(o){for(var u=o.loaded,i=o.total,s=Math.floor(u/i*e);n<a;){var c=r[n],f=c.start,h=c.end,l=c.name;if(s<h){t(s-f,l);break}t(h-f,l),n+=1}}};function rv(e){var r=e.name,t=e.hash,n=e.size,a=e.mode,o=e.mtime,u=e.mtimeNsecs,i={path:r,cid:$e.parse(t),size:parseInt(n)};return null!=a&&(i.mode=parseInt(a,8)),null!=o&&(i.mtime={secs:o,nsecs:u||0}),i}function tv(e){return"function"===typeof e.stream?Bh(e.stream()):Bh(new Response(e).body)}function nv(e){return av.apply(this,arguments)}function av(){return(av=Fh((0,K.Z)().mark((function e(r){return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ov(e){return uv.apply(this,arguments)}function uv(){return(uv=(0,Q.Z)((0,K.Z)().mark((function e(r){var t,n,a;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uh(r)){e.next=2;break}return e.abrupt("return",nv(iv(r)));case 2:if(!("string"===typeof r||r instanceof String)){e.next=4;break}return e.abrupt("return",nv(iv(r.toString())));case 4:if(!Ih(r)){e.next=6;break}return e.abrupt("return",tv(r));case 6:if(jh(r)&&(r=Bh(r)),!(Symbol.iterator in r)&&!(Symbol.asyncIterator in r)){e.next=27;break}return t=Eh(r),e.next=11,t.peek();case 11:if(n=e.sent,a=n.value,!n.done){e.next=16;break}return e.abrupt("return",nv(new Uint8Array(0)));case 16:if(t.push(a),!Number.isInteger(a)){e.next=25;break}return e.t0=nv,e.t1=Uint8Array,e.next=22,Sh(t);case 22:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 25:if(!(Uh(a)||"string"===typeof a||a instanceof String)){e.next=27;break}return e.abrupt("return",_h(t,iv));case 27:throw Hi()(new Error("Unexpected input: ".concat(r)),"ERR_UNEXPECTED_INPUT");case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):wi(e.toString())}function sv(){return sv=Fh((0,K.Z)().mark((function e(r,t){var n,a,o;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==r&&void 0!==r){e.next=2;break}throw Hi()(new Error("Unexpected input: ".concat(r)),"ERR_UNEXPECTED_INPUT");case 2:if(!("string"===typeof r||r instanceof String)){e.next=6;break}return e.next=5,cv(r.toString(),t);case 5:case 9:case 21:case 26:case 31:return e.abrupt("return");case 6:if(!Uh(r)&&!Ih(r)){e.next=10;break}return e.next=9,cv(r,t);case 10:if(jh(r)&&(r=Bh(r)),!(Symbol.iterator in r)&&!(Symbol.asyncIterator in r)){e.next=28;break}return n=Eh(r),e.next=15,Ch(n.peek());case 15:if(a=e.sent,o=a.value,!a.done){e.next=22;break}return e.next=21,{content:[]};case 22:if(n.push(o),!(Number.isInteger(o)||Uh(o)||"string"===typeof o||o instanceof String)){e.next=27;break}return e.next=26,cv(n,t);case 27:throw Hi()(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT");case 28:if(!Nh(r)){e.next=32;break}return e.next=31,cv(r,t);case 32:throw Hi()(new Error('Unexpected input: cannot convert "'+typeof r+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");case 33:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function cv(e,r){return fv.apply(this,arguments)}function fv(){return fv=(0,Q.Z)((0,K.Z)().mark((function e(r,t){var n,a,o,u,i;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.path,a=r.mode,o=r.mtime,u=r.content,i={path:n||"",mode:Qh(a),mtime:Xh(o)},!u){e.next=8;break}return e.next=5,t(u);case 5:i.content=e.sent,e.next=12;break;case 8:if(n){e.next=12;break}return e.next=11,t(r);case 11:i.content=e.sent;case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e){return function(e,r){return sv.apply(this,arguments)}(e,ov)}function lv(e){var r=Yd(e);return wc((function(){function e(){return e=(0,Q.Z)((0,K.Z)().mark((function e(t){var n,a,o,u=arguments;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=hv(t),o=r(a,n),e.next=5,Pl(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}return function(r){return e.apply(this,arguments)}}))(e)}var pv=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ch(e.post("cat",{signal:t.signal,searchParams:Ec((0,Fe.Z)({arg:r.toString()},t)),headers:t.headers}));case 2:return a=n.sent,n.delegateYield(Rh(Dh(a.iterator()),Ch),"t0",4);case 4:case"end":return n.stop()}}),n)}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),dv=wc((function(e){var r=function(){var r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.next=3,e.post("commands",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.abrupt("return",n.json());case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return r})),vv=wc((function(e){var r=function(){var r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r.next=3,e.post("dns",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:t},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,r.abrupt("return",o.Path);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return r})),yv=wc((function(e){return function(){var r=new URL(e.opts.base||"");return{host:r.hostname,port:r.port,protocol:r.protocol,pathname:r.pathname,"api-path":r.pathname}}})),bv=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a,o;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=(0,Fe.Z)({arg:"".concat(r instanceof Uint8Array?$e.decode(r):r)},t)).compressionLevel&&(a["compression-level"]=a.compressionLevel,delete a.compressionLevel),n.next=4,Ch(e.post("get",{signal:t.signal,searchParams:Ec(a),headers:t.headers}));case 4:return o=n.sent,n.delegateYield(Rh(Dh(o.iterator()),Ch),"t0",6);case 6:case"end":return n.stop()}}),n)}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),gv=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a,o,u=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r.next=3,e.post("id",{signal:t.signal,searchParams:Ec((0,Fe.Z)({arg:t.peerId?t.peerId.toString():void 0},t)),headers:t.headers});case 3:return n=r.sent,r.next=6,n.json();case 6:return a=r.sent,(o=(0,Fe.Z)({},Xl(a))).id=bh(o.id),o.addresses&&(o.addresses=o.addresses.map((function(e){return Xa(e)}))),r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),wv=function(e){var r=gv(e);function t(){return t=(0,Q.Z)((0,K.Z)().mark((function e(){var t,n,a=arguments;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,r(t);case 3:return n=e.sent,e.abrupt("return",Boolean(n&&n.addresses&&n.addresses.length));case 5:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}},mv=wc((function(e,r){function t(){return t=Fh((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function a(){var o,u,i,s,c,f,h,l,p,d,v;return(0,K.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=function(){return(i=(0,Q.Z)((0,K.Z)().mark((function e(t){var n,a,u,i;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.Hash).includes("/")){e.next=9;break}return a=n.startsWith("/ipfs/")?n:"/ipfs/".concat(n),e.next=5,ip(r)(a);case 5:u=e.sent,n=u.cid,e.next=10;break;case 9:n=$e.parse(n);case 10:return i={name:t.Name,path:o+(t.Name?"/".concat(t.Name):""),size:t.Size,cid:n,type:xv(t)},t.Mode&&(i.mode=parseInt(t.Mode,8)),void 0!==t.Mtime&&null!==t.Mtime&&(i.mtime={secs:t.Mtime},void 0!==t.MtimeNsecs&&null!==t.MtimeNsecs&&(i.mtime.nsecs=t.MtimeNsecs)),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return i.apply(this,arguments)},o="".concat(t instanceof Uint8Array?$e.decode(t):t),a.next=5,Ch(e.post("ls",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:o},n)),headers:n.headers}));case 5:s=a.sent,c=!1,f=!1,a.prev=8,l=Dh(s.ndjson());case 10:return a.next=12,Ch(l.next());case 12:if(!(c=!(p=a.sent).done)){a.next=31;break}if(d=(d=p.value).Objects){a.next=17;break}throw new Error("expected .Objects in results");case 17:if(d=d[0]){a.next=20;break}throw new Error("expected one array in results.Objects");case 20:if(v=d.Links,Array.isArray(v)){a.next=23;break}throw new Error("expected one array in results.Objects[0].Links");case 23:if(v.length){a.next=27;break}return a.next=26,u(d);case 26:return a.abrupt("return");case 27:return a.delegateYield(Rh(Dh(v.map(u)),Ch),"t0",28);case 28:c=!1,a.next=10;break;case 31:a.next=37;break;case 33:a.prev=33,a.t1=a.catch(8),f=!0,h=a.t1;case 37:if(a.prev=37,a.prev=38,!c||null==l.return){a.next=42;break}return a.next=42,Ch(l.return());case 42:if(a.prev=42,!f){a.next=45;break}throw h;case 45:return a.finish(42);case 46:return a.finish(37);case 47:case"end":return a.stop()}}),a,null,[[8,33,37,47],[38,,42,46]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function xv(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}var Dv=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.next=3,e.post("dns",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.t0=Xl,r.next=7,n.json();case 7:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),kv=wc((function(e){function r(){return r=Fh((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,K.Z)().mark((function n(){var a;return(0,K.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ch(e.post("ping",{signal:t.signal,searchParams:Ec((0,Fe.Z)({arg:"".concat(r)},t)),headers:t.headers,transform:Xl}));case 2:return a=n.sent,n.delegateYield(Rh(Dh(a.ndjson()),Ch),"t0",4);case 4:case"end":return n.stop()}}),n)}))()})),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Ev=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(t){var n,a,o,u,i=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r.next=3,e.post("resolve",{signal:n.signal,searchParams:Ec((0,Fe.Z)({arg:t},n)),headers:n.headers});case 3:return a=r.sent,r.next=6,a.json();case 6:return o=r.sent,u=o.Path,r.abrupt("return",u);case 9:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(e){return r.apply(this,arguments)}})),Av=wc((function(e){var r=function(){var e=(0,Q.Z)((0,K.Z)().mark((function e(){var r=arguments;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>0&&void 0!==r[0]?r[0]:{},Oa()(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r})),Cv=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.next=3,e.post("shutdown",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.next=6,n.text();case 6:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Zv=wc((function(e){function r(){return r=(0,Q.Z)((0,K.Z)().mark((function r(){var t,n,a=arguments;return(0,K.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.next=3,e.post("version",{signal:t.signal,searchParams:Ec(t),headers:t.headers});case 3:return n=r.sent,r.t0=Fe.Z,r.t1=Fe.Z,r.t2={},r.t3=Xl,r.next=10,n.json();case 10:return r.t4=r.sent,r.t5=(0,r.t3)(r.t4),r.t6=(0,r.t1)(r.t2,r.t5),r.t7={},r.t8={"ipfs-http-client":"1.0.0"},r.abrupt("return",(0,r.t0)(r.t6,r.t7,r.t8));case 16:case"end":return r.stop()}}),r)}))),r.apply(this,arguments)}return function(){return r.apply(this,arguments)}})),Fv=t(85104),Bv=t.n(Fv),Pv=t(91454),Sv=t.n(Pv);function Tv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={name:yn.name,code:yn.code,encode:function(e){return e},decode:function(e){return e}},t=Object.values(_n);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach((function(e){return t.push(e)}));var n=new re({bases:t,loadBase:e.ipld&&e.ipld.loadBase}),a=Object.values(Vn);[o,u,s,c,r].concat(e.ipld&&e.ipld.codecs||[]).forEach((function(e){return a.push(e)}));var i=new ne({codecs:a,loadCodec:e.ipld&&e.ipld.loadCodec}),f=Object.values(Hn);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach((function(e){return f.push(e)}));var h=new oe({hashers:f,loadHasher:e.ipld&&e.ipld.loadHasher}),l={add:lv(e),addAll:Yd(e),bitswap:mh(e),block:ll(e),bootstrap:yl(e),cat:pv(e),commands:dv(e),config:El(e),dag:jl(i,e),dht:Vl(e),diag:Gl(e),dns:vv(e),files:fp(e),get:bv(e),getEndpointConfig:yv(e),id:gv(e),isOnline:wv(e),key:wp(e),log:kp(e),ls:mv(e),mount:Dv(e),name:Pp(e),object:_p(i,e),pin:Dd(e),ping:kv(e),pubsub:Ld(e),refs:zd(e),repo:Hd(e),resolve:Ev(e),start:Av(e),stats:qd(e),stop:Cv(e),swarm:Xd(e),version:Zv(e),bases:n,codecs:i,hashers:h};return l}var Uv=Bv()}}]);
//# sourceMappingURL=201.0019cf42.chunk.js.map